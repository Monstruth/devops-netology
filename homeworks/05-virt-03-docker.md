## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

Ответ - https://hub.docker.com/repository/docker/perepelitsynam/my-netology/general

запускаем командой ``` docker run -d -p 80:80 perepelitsynam/my-netology:netologyinx ```

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;

Ответ - для тестирования и процесса разработки ява приложений Докер подходит очень хорошо. Для реальной работы в production нагрузка может быть очень высокой, а java приложения очень прожорливы в ресурсах, поэтому здесь лучше докер не использовать, то есть тут надо выбирать между физической или виртуальной машиной.

- Nodejs веб-приложение;

Ответ - среда програмирования Node.js это идеальное решение для микросервисной архитектуры, а значит для Докер подходит очень хорошо.

- Мобильное приложение c версиями для Android и iOS;

Ответ - На сколько я понял практика разработки Андроид приложений в Докер развита слабо, существует плагин Андроид для системы автоматической сборки Gradle, однако такой метод пока распространение не получил. Для iOS всё ещё плачевней. Для разработки андроид приложений обычно используются физические машины, для тестирования и запуска в продакшен удобнее виртуальные машины.

- Шина данных на базе Apache Kafka;

Ответ -  для высоконагруженных приложений лучше использовать ВМ, в остальных случаях хорошо справится Докер.

- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;

Ответ - Elasticsearch доступен для установки как образ docker, проще удалять логи, удобнее при кластеризации - меньше времени на запуск контейнеров. Для промышленной реализации при высокой нагрузке лучше использовать ВМ.

- Мониторинг-стек на базе Prometheus и Grafana;

Ответ - Prometheus и Grafana давно доккеризированы и замечательно работают в контейнерах.

- MongoDB, как основное хранилище данных для java-приложения;

Ответ - для разработки и тестирования вполне вариант на докер, образы есть. Для реальной работы наверное лучше рассмотреть другие варианты чем докер.

- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry лучше изолировать на отдельный виртуальной машине, т.к. сервер содержит приватные данные, доступ к которым должен быть ограничен на уровне ОС.

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

Решение

```
docker run -v /data:/data --name centos-container -d -t centos
Unable to find image 'centos:latest' locally
latest: Pulling from library/centos
a1d0c7532777: Pull complete 
Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177
Status: Downloaded newer image for centos:latest
9c54810edd097cbdde2283ad4b1331b4941ef15571e9375fc190e74380724774

docker run -v /data:/data --name debian-container -d -t debian
Unable to find image 'debian:latest' locally
latest: Pulling from library/debian
bbeef03cda1f: Pull complete 
Digest: sha256:534da5794e770279c889daa891f46f5a530b0c5de8bfbc5e40394a0164d9fa87
Status: Downloaded newer image for debian:latest
80c96b4f71a09613d01faa8fb673cc9f1bc6c76af8e8d99a179b607ebbd742e5

docker ps
CONTAINER ID   IMAGE     COMMAND       CREATED              STATUS              PORTS     NAMES
80c96b4f71a0   debian    "bash"        24 seconds ago       Up 22 seconds                 debian-container
9c54810edd09   centos    "/bin/bash"   About a minute ago   Up About a minute             centos-container

docker exec centos-container /bin/bash -c "echo test_message>/data/readme.txt"

/data# echo test > test.txt

docker exec -it debian-container /bin/bash
root@80c96b4f71a0:/# cd /data
root@80c96b4f71a0:/data# ls -l
total 8
-rw-r--r-- 1 root root 13 Jan 23 23:30 readme.txt
-rw-r--r-- 1 root root  5 Jan 23 23:42 test.txt
root@80c96b4f71a0:/data# 
```
